# Adding the Second Feature

Let's take a look at the story card for the next feature:

> A visitor can view a recipe
>
> * Responds with an error if invalid recipe is requested
> * Displays name, rating, user, and directions
> * Displays ingredients with quantities and units

As before I shall provide the following acceptance tests:

<<[features/visitors-can-view-a-recipe.feature](examples/chapter-06/feature2/features/visitors-can-view-a-recipe.feature)

In the last chapter I put a lot of focus on the TDD process and the way the
code evolved. Doing this for the whole book would get pretty long winded so as
we progress I'll be doing this less and instead focusing on the specific points
and decisions made in each step.

In this chapter we want to implement the second feature which requires a very
similar process to in the previous chapter so I'll cover it in less detail.
Once we have this done we're going to spend a bit time analysing what we have
created so far and try extract a better application structure out of it.

## The FeatureContext

First up let's quickly append the new *snippet* templates to the feature context
by run:

{lang="console"}
~~~~~~~~
$ behat --append-snippets
~~~~~~~~

Now the feature context needs to be updated, here what I've come up with:

<<[features/bootstrap/FeatureContext.php](examples/chapter-06/feature2/features/bootstrap/FeatureContext.php)
